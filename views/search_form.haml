%script{ :type => 'text/javascript', :src => '/vendor/javascripts/jquery-1.6.2.min.js' }
%script{ :type => 'text/javascript', :src => '/vendor/javascripts/jquery-ui-1.8.16.custom.min.js' }
%link{ :rel => :stylesheet, :href => '/vendor/stylesheets/ui-lightness/jquery-ui-1.8.16.custom.css', :type => 'text/css' }

%input#fancysearch{ :type => :text, :name => :q }
  
:javascript
  $(document).ready(function() {
    $("input#fancysearch").autocomplete({
        source: '#{@search_path}',
        select: function(event, ui) {
          $("input#fancysearch").hide();
          window.location = ui.item.value
        }
    });
  })